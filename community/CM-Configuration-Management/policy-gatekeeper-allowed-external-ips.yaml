apiVersion: policy.open-cluster-management.io/v1
kind: Policy
metadata:
  name: policy-gatekeeper-allowed-external-ips
  annotations:
    policy.open-cluster-management.io/standards: NIST SP 800-53
    policy.open-cluster-management.io/categories: CM Configuration Management
    policy.open-cluster-management.io/controls: CM-2 Baseline Configuration
    integrityshield.io/message: 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
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEZCQUFCQ2dBdkZpRUVkZENIUWpWblNBUmhaMytYbTBOT3crQXJsb2NGQW1CSzZWVVJIR2RoYW1GdVFHcHcKTG1saWJTNWpiMjBBQ2drUW0wTk93K0FybG9lblBBd0FoNGxzcStYeTk0YzQ1NitPZ3NnVlFxWjA1bE1PNU1kQgpYVndGQStxSXRQb3FNUWU3YVJ2TzByT2xBSUIzblhJUGtOMzdUV1JDWGFSMkl1RTZPMGZrcWYxeXBYOCtmYmcxCjJqV0w5ZmlQQUNKMWd4S09GWEJ6eDlFakdtWWx5TzIxbnppK0pLMTlzVEdnMXMyMDRXKythNlNtcEJwVDVvYU8KYTBzZEdXTk1icDVmS0xPMVU4TFJ2WS9IQXUvOGZObEhad0FyQjJ1dTEzOEZFU2Z2cnBzbHNsazdyV3YweEo3SgppeDNsUFFDNkY3Nmt6a0ZDbTZJSUNGeHdVMDhFU3phbHdFRHB6Ym9vcUIxZnNQRnk2NEtWM0QrVFV3ZWZIbDdRCkgyZ3JxNWNhNEk3VSthNEtkSnpYREJKM1h6bU4xMHN4SERDZ09oUUxLQktKZHFrRXhud0piVFNBbGMyRWMzRFcKcElSTTRzSDRUWnphamxqL2lRallvd2FURzJPOTE3c2RKTTNnY3VKZ3pBclJDUTdRcHhlY3NJdU42U1Q2Zm1FOAp1ZzlxOFNNRVNkd1hzWDRUaXkyV0xPa0k2Z0Q0dVUzRllJajJHb2VwdDBsbWI1TkF0NFl3Z2tRcUplbGVnU2ZZCklPakFnaWZQTlR5OGdIRkw4RGpCd3RQZmRPWFdIM1E2Cj1CSlNKCi0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQo=
spec:
  disabled: false
  policy-templates:
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-gatekeeper-k8sexternalips
        spec:
          remediationAction: enforce # will be overridden by remediationAction in parent policy
          severity: low
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: templates.gatekeeper.sh/v1beta1
                kind: ConstraintTemplate
                metadata:
                  name: k8sexternalips
                spec:
                  crd:
                    spec:
                      names:
                        kind: K8sExternalIPs
                      validation:
                        # Schema for the `parameters` field
                        openAPIV3Schema:
                          properties:
                            allowedIPs:
                              type: array
                              items:
                                type: string
                  targets:
                    - target: admission.k8s.gatekeeper.sh
                      rego: |
                        package k8sexternalips

                        violation[{"msg": msg}] {
                          input.review.kind.kind == "Service"
                          input.review.kind.group == ""
                          allowedIPs := {ip | ip := input.parameters.allowedIPs[_]}
                          externalIPs := {ip | ip := input.review.object.spec.externalIPs[_]}
                          forbiddenIPs := externalIPs - allowedIPs
                          count(forbiddenIPs) > 0
                          msg := sprintf("service has forbidden external IPs: %v", [forbiddenIPs])
                        }
            - complianceType: musthave
              objectDefinition:
                apiVersion: constraints.gatekeeper.sh/v1beta1
                kind: K8sExternalIPs
                metadata:
                  name: external-ips
                spec:
                  match:
                    kinds:
                      - apiGroups: [""]
                        kinds: ["Service"]
                  parameters:
                    allowedIPs:
                      - "203.0.113.0"
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-gatekeeper-external-ips-audit
        spec:
          remediationAction: inform # will be overridden by remediationAction in parent policy
          severity: low
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: constraints.gatekeeper.sh/v1beta1
                kind: K8sExternalIPs
                metadata:
                  name: external-ips
                status:
                  totalViolations: 0
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-gatekeeper-external-ips-admission
        spec:
          remediationAction: inform # will be overridden by remediationAction in parent policy
          severity: low
          object-templates:
            - complianceType: mustnothave
              objectDefinition:
                apiVersion: v1
                kind: Event
                metadata:
                  namespace: openshift-gatekeeper-system # set it to the actual namespace where gatekeeper is running if different
                  annotations:
                    constraint_action: deny
                    constraint_kind: K8sExternalIPs
                    constraint_name: external-ips
                    event_type: violation
---
apiVersion: policy.open-cluster-management.io/v1
kind: PlacementBinding
metadata:
  name: binding-policy-gatekeeper-allowed-external-ips
  annotations:
    integrityshield.io/message: H4sIAAAAAAAAA+1aaW+jWLr+nl+BMrrSjNyOWbxG6isBBmw2m92mVephOTaY1Sw2pqf/+xw7cZKqylJ1r3R1e5T3g5XAu5134zkcnDw0QVGGWXqP5Fkceqe7LAdp14vrsgJFN3FSZwsSkFZ3YdY7YDdRmPr3yPLCepOAyvGdyrm/QZDUScBVR3frVCACIIcanDjOjsDvggbqS524G+YlZHfSNKucChouz9LID1gvKyf1ncIv7xF5rumItkTGKNodED8o70GntlkRAqiAlhA6Szfhti4uTiDSE+uPasvSqsjii64ujlBOCeIwBV+rvSlz4J3X54el48YAhm7jxCW4uVroViDJY+jYYxS6SObugFdNwSZMw7OKh+tncn42V1fBh5x95dhjAq8cLxN5pbcSGo3Lay4fUvlA15VeqYCe+OHFGOldFoKAdJMVHkD+hhzDOEZcgGQHUBSh74MUcU/fiyBhiuROAVf06McL/SWAsmF1ukdgfb24/hC/b+N6pS7iZfBG6KQe0E85XGACgxc4B/AVG/JOGl5Lx5O1u+dA3ZUBTIILI4t9J/uUkbIqnDCt9Ef57xhfS8zXCXojHW+l5Upe4b92+W2Bq8XyrZvXVQnjknl0aL783qEHOkBvfef1wF7pb4jmBSBxEFg1SBUA5J+wFqAHUHf5T2QTgth/U/bcGORybhIPKt42AhuxgMxFFb63sjM9DjK4pvf5EKS6FJZTFM7pA84QFs6H6q4KYa2E6fYV5soptqB6Q0/38TZ0yE/C8lyvd7Bmvi7UNzwo4Ly8R/71pn+540Vw5Hxbg2/yH8IsviT9tz9uk3J7C7uv3P75BfnjnQiEaV5XdwU4hOB4d66wyw/y66/IrQaKQ+iB25+S3hZZnV/E35N7TjZy/yvyR5gj/0LgD/z7QeNzJd49s/72+5c/39EJnrvidaWPbj6MnrtzI969kPlAO2wS9zJJH9W/tNZ9sZ53VHhZnVZ/f6noH8h/I+g7EjB9Z1tlDiuz2vz9tnzICBI45bNDT64g595B/utw+wvy20srX/7xpok//y+mt/c0h39ufn8w6T6e3d9goq/prUGcOJUXvN7rZ7feHCfd85q5c/XDJPx2e/vl3Tl+4bk22Guszx3wusGPx2UXucVR4g69wzD4e/tXwT8vk9Z1aj+sfgYDhWcMlPwHQqD/p00E9xj1qxVYwe1HbF4fSLDc0b9mAV4f6v8JRQi3hP/rOjy8VWjM4bq5e0kf1VcJMQ707pznMgg31ctElCeY9nMYS1BBKAdL6gJTHa+q4cPuSRo5BqAAyLMgEpZIUacpRHNIuIF7w80GFK8598o2+Vt6brvfncfswiy+jjtf8P4wVH8h8wPtdiZwjvPvD5D1CfDddLvdm5/un8eXDTEM4vkqBf89I+DvXzu4D3e6//PXD3CBYHuuY5hluLE4OwDTV0J/7pFZv5yTV5pga9c6uBo17YzicbOnTmgkG4OpsqGiuYSy/cFxQgbYifcUtDDQ8uCVhafX2j7mx5PxSMCjGLfdsbJnvbqZSPOScNvDUnJm9oCvB6pjzwTaUnNxLpgpvs4sdZrieyqkbX+828ZCv39AJx0erSjllEpUJei5gC5phWv7NmmEIBOX1KBqt8yO2dHtaYHinsSt+gEYiDOd05xGTIw94LgZVxdTxe9jfVeMhErRO9NN0ol8nesFm2mTbAZHf09NFGMpG7SmTM2mFwi5pSYLsJ+S8468F2ZWVMeGFXt4Ih76ynLFkTU/xO3ZolySo3BsJOUkzGWVXcrrvhcM10dNEwWXHNLHVsNX43Uijo9MzK+ZidnWvbCxpilLFwvsyGVkaigrTQQcyeLA6fsxZVkYwYx8I1B5gcnTGOUGjEHauZaTgFwu59kgCHLS2vPKXBkoRwvHiy1PK55hjPb1MsNlf16XQslH0/FwdzqMC2CbI29N0cmEYY8cEDeCM5d43upRNHbUtw16nEgzFSyXrrqMh4o2lQRxkVqjTJ5XWSbutcG+ZxHUsiYtxc/IeT+w5KNgyjsCsDsK+OpUnOB1b5euMMIk5dHGJU2ryLhgSuSTdTUZkTIbbI8ZuyZxhxrzSV+hOMXdoPY8Y5uFEBR0Z3ma1G6nmM6b0VwRDJs7Som4auvTnmvSynE9b0snfGOvwn2La9ssbLEBDC57VL2qv3PF0Mma5HjsFCuWpdc0RwyGgZxiWTRk5ly42SVU0V82tt6sjfJgDxb0dkPPtJrUJ33PFCfyaTesli2G+n3cZqi5u/Q6ZCZuvU7HNncDsvFWfQZTWY0nR6ddVRtFW7D6JvcBPbUlEVCMvSFXw8wdF+EJ1Xumi/ZB2vhrX3aFOiTwrW9X5nDD1vNN5Kc7wthHcWpr1qFdWZ2yHIx9PpujcceusAk56lBLbtEq82VdifZYlZgRgflzYy6KQU3iOU2a5WjMHoLUo6bY+LCrUWZVtB24p/LlWTusN51e7i+r0WRsS5U45Lh0RuvuNCsIw8UScrReucsNdsCZ43aZHkC/7HdW0n5EdiLdpeuAqMWJLx2mYDfujcvVZKgVPdC2Ys9n2N2S7LALa80x6ZrT0hHFgKBnRSralMGIs3ZZh5pt6uNYQ1fE2GtEZeOrPUoVtWhDj4C5lRiAD705GI2qYiaiaDuNzNTz1yJjRzUzy9lSLlFnp6CngItPO86kTk66w/Dd1BuLJhlW8+1WFnKg5btIYWxUzo6BuSLISdPRZcx2fWbYU3lVHw3Gw8VI4nYg2qTbmdDSOA7S4V6t1LSvZqcG9WeYgY3xhleZTk+Z9qwy7S+wIsBSLAiwfs8mB+FgfBxWjV8LYJakM8nZiuNYAtZh0R9pJ5mI68gHTZsfFioeauhost3Hnt+x7EU1cIkhwciR7hzHYLCyR6OMXrTOsrBEczPMF8GQpUGt9RdETggJwfXWcYC5jQxcJwBs3DKT0oll/cAmrODvyzxbGKa/GUdGXOHtXutzIlp5uFsLyj4w8AT38MU+LSJ879HyciRHWEPMO3QxOzr0rkftNu1E81nmSJJvPQTKcJtCCFnAx4CooZWoYbRq+LweUoqKkVsDjWd6xBqmybMP91GBTmJVY2xaMVhawX3Kj+xcNczIZuS5YeWWG8uUkQSOdKrWrk4tdMIrlBVfurjMKRZGay1vqCY/V3E1W1sY55vszJt5gs5hpWPxumzlobSjKKi7MCz0qEcTQkDZk8tNEt8yU3/n017S1Gqcc2YycXSOXyoJr9tmdjCMyWGdmJKt87ZGsK26zXkvYik3lQtHl2O/lYcmEcgSw0vqiqckvMr8aIxrRHY0k1yyY5Z3W9bxpyS+DiecaXoHMLNRhbAPKseiFrM++Rym0jFFg5jXlGiCyVFTgshf2Wws2kleKKjZ1wwU94m88qc86+KDRkrZEuiU6FvKwDfVtYrz9dpqCDsxA82amGrC5hI+FzSj2pux0Wg621fZHNVnxsDTzZWEyoE7DUyZa3gNY5o1vsbhGlNLp3KwyncOPqkWVlyZSXkEHKaouO2srViwjUFtkXktpfJAi4KZqpV9HZ2YZjvHPGPQKpG/MFtZsmcBZ1peYxmYoNIVB+NNu2ijAKZPOExsmEklmValqjs59Qk7Wuvmjo7UwGbUzG4DzTWYQiLigzEzV+7MPrqsb8lWJalGHoMZX9qEgZsoj2ut3MI10gJuSmtjjarJxJCtDJM5eydZPAfSraBGjaCjAWGnbK3BOSvhcWkn2MlLxn0Rb0IBzU0TI482l50WM9vy45y3WyqXCH+us/LAsRpUZlTKtapWhSNKtWRpreS5a8W125qCjweYtcpD6BOxMIPQxPMFMKlcjfi9a2CNbqxbmwkiybALwAxmEi63cjw/Km3AWrv1UWp5RkqyvsNVGp3KMAZ+bnJSYRp2bHB5ssYbHFYpridyLCc8Y5pb1NMmFb3DaHvHNHR46aNKNQbMnKVmBk3pmuEvFFM1jci43BOV7Neb/AoMVbB5cQR1vfrjaPAbnKnW8XkPcn1dcg//yst3oOpNWV+2KBco2f3Zk7An8887q2fLH8Lk74D1B76+Aqsvy33lKO/n4/iJqj9R9Seq/kTVn6j6E1V/oupPVP2Jqv+CqPp6fvAIH+ks9cMXkK57PVNBbvWifjp8f3jf+/AVlU9/I0oenDA+f//0rFYDMUTMWfGg9HKmyTR5AS5nGU/vurvIHxE4nb8cOoRFlp7R6C/nd/GFcxZF5ukv5y9JanA5rfTB4fbLnzf/Bnyo6FvTJgAA
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEZCQUFCQ2dBdkZpRUVkZENIUWpWblNBUmhaMytYbTBOT3crQXJsb2NGQW1CSzZWVVJIR2RoYW1GdVFHcHcKTG1saWJTNWpiMjBBQ2drUW0wTk93K0FybG9lblBBd0FoNGxzcStYeTk0YzQ1NitPZ3NnVlFxWjA1bE1PNU1kQgpYVndGQStxSXRQb3FNUWU3YVJ2TzByT2xBSUIzblhJUGtOMzdUV1JDWGFSMkl1RTZPMGZrcWYxeXBYOCtmYmcxCjJqV0w5ZmlQQUNKMWd4S09GWEJ6eDlFakdtWWx5TzIxbnppK0pLMTlzVEdnMXMyMDRXKythNlNtcEJwVDVvYU8KYTBzZEdXTk1icDVmS0xPMVU4TFJ2WS9IQXUvOGZObEhad0FyQjJ1dTEzOEZFU2Z2cnBzbHNsazdyV3YweEo3SgppeDNsUFFDNkY3Nmt6a0ZDbTZJSUNGeHdVMDhFU3phbHdFRHB6Ym9vcUIxZnNQRnk2NEtWM0QrVFV3ZWZIbDdRCkgyZ3JxNWNhNEk3VSthNEtkSnpYREJKM1h6bU4xMHN4SERDZ09oUUxLQktKZHFrRXhud0piVFNBbGMyRWMzRFcKcElSTTRzSDRUWnphamxqL2lRallvd2FURzJPOTE3c2RKTTNnY3VKZ3pBclJDUTdRcHhlY3NJdU42U1Q2Zm1FOAp1ZzlxOFNNRVNkd1hzWDRUaXkyV0xPa0k2Z0Q0dVUzRllJajJHb2VwdDBsbWI1TkF0NFl3Z2tRcUplbGVnU2ZZCklPakFnaWZQTlR5OGdIRkw4RGpCd3RQZmRPWFdIM1E2Cj1CSlNKCi0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQo=
placementRef:
  name: placement-policy-gatekeeper-allowed-external-ips
  kind: PlacementRule
  apiGroup: apps.open-cluster-management.io
subjects:
  - name: policy-gatekeeper-allowed-external-ips
    kind: Policy
    apiGroup: policy.open-cluster-management.io
---
apiVersion: apps.open-cluster-management.io/v1
kind: PlacementRule
metadata:
  name: placement-policy-gatekeeper-allowed-external-ips
  annotations:
    integrityshield.io/message: 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
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEZCQUFCQ2dBdkZpRUVkZENIUWpWblNBUmhaMytYbTBOT3crQXJsb2NGQW1CSzZWVVJIR2RoYW1GdVFHcHcKTG1saWJTNWpiMjBBQ2drUW0wTk93K0FybG9lblBBd0FoNGxzcStYeTk0YzQ1NitPZ3NnVlFxWjA1bE1PNU1kQgpYVndGQStxSXRQb3FNUWU3YVJ2TzByT2xBSUIzblhJUGtOMzdUV1JDWGFSMkl1RTZPMGZrcWYxeXBYOCtmYmcxCjJqV0w5ZmlQQUNKMWd4S09GWEJ6eDlFakdtWWx5TzIxbnppK0pLMTlzVEdnMXMyMDRXKythNlNtcEJwVDVvYU8KYTBzZEdXTk1icDVmS0xPMVU4TFJ2WS9IQXUvOGZObEhad0FyQjJ1dTEzOEZFU2Z2cnBzbHNsazdyV3YweEo3SgppeDNsUFFDNkY3Nmt6a0ZDbTZJSUNGeHdVMDhFU3phbHdFRHB6Ym9vcUIxZnNQRnk2NEtWM0QrVFV3ZWZIbDdRCkgyZ3JxNWNhNEk3VSthNEtkSnpYREJKM1h6bU4xMHN4SERDZ09oUUxLQktKZHFrRXhud0piVFNBbGMyRWMzRFcKcElSTTRzSDRUWnphamxqL2lRallvd2FURzJPOTE3c2RKTTNnY3VKZ3pBclJDUTdRcHhlY3NJdU42U1Q2Zm1FOAp1ZzlxOFNNRVNkd1hzWDRUaXkyV0xPa0k2Z0Q0dVUzRllJajJHb2VwdDBsbWI1TkF0NFl3Z2tRcUplbGVnU2ZZCklPakFnaWZQTlR5OGdIRkw4RGpCd3RQZmRPWFdIM1E2Cj1CSlNKCi0tLS0tRU5EIFBHUCBTSUdOQVRVUkUtLS0tLQo=
spec:
  clusterConditions:
    - status: "True"
      type: ManagedClusterConditionAvailable
  clusterSelector:
    matchExpressions:
      - {key: environment, operator: In, values: ["dev"]}
